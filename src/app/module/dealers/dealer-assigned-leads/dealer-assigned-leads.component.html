<ngx-spinner></ngx-spinner>

<!-- Row start -->
<div class="row gutters">
  <div class="col-xl-12">
    <!-- Dashboard header start -->
    <div class="dashboard-header">
      <div class="dashboard-header-content">
        <!-- Top Actions - DateRange and Buttons -->
        <!-- <div class="d-flex justify-content-end">

          <div class="field-wrapper m-0">
            <div class="input-group">
              <input type="text" class="form-control custom-daterange2" />
              <span class="input-group-text">
                <i class="icon-calendar1"></i>
              </span>
            </div>
            <div class="field-placeholder">Select Date</div>
          </div>
          <a href="#" class="btn"
            ><i class="icon-download1"></i> <span>Reports</span></a
          >
        </div> -->

        <!-- Welcome Title -->
        <div class="welcome-title">
          <h1>Dealer Name: {{ dealerDetails?.fullName }}</h1>
          <h3 class="color-white">Phone No: {{ dealerDetails?.phoneNumber }}</h3>
          <h3 class="color-white">UserName: {{ dealerDetails?.username }}</h3>
          <h5 class="color-white">Dealer City: {{ dealerDetails?.city }}</h5>
        </div>
        <div class="welcome-title">
          <button [routerLink]="['/update-dealer-details',dealerDetails?._id]">View Dealer Bussiness Details</button>
        </div>



        <!-- <div class="sales-tile-container">
          <div class="sales-tile">
            <h1>21</h1>
            <h6>Cars</h6>
          </div>
          <div class="sales-tile">
            <h1>35</h1>
            <h6>Bikes</h6>
          </div>
          <div class="sales-tile">
            <h1>60</h1>
            <h6>Total Amt</h6>
          </div>
          <div class="sales-tile">
            <h1>29</h1>
            <h6>Balance</h6>
          </div>
          <div class="sales-tile">
            <h1>78</h1>
            <h6>Profit</h6>
          </div>
        </div> -->
      </div>
    </div>
  </div>
</div>

<ng-container *ngIf="dealerQuotaionDetails?.length > 0; else noQuotation">
  <div class="d-flex justify-content-between mt-3 mb-3">
    <div
      class="dataTables_info"
      id="copy-print-csv_info"
      role="status"
      aria-live="polite"
    >
      Showing {{ currentPageLimit * (currentPage - 1) + 1 }} to
      {{ currentPageLimit * currentPage }} of {{ totalList }} entries
    </div>
  
    <!-- <pagination [paginationList]="pagination" [selectedPageLimit]="currentPageLimit" [currentPage]="currentPage" (onPageChange)="getPage($event)" [lastPage]="lastpage">
  </pagination> -->
  </div>
  
  <!-- Row start -->
  <div class="row gutters">
    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
      <div class="card">
        <div class="card-body">
          <div class="table-responsive">
            <table id="copy-print-csv" class="table v-middle">
              <thead>
                <tr>
                  <th>SL No</th>
                  <!-- <th>Lead Id</th> -->
                  <th>Quotation Status</th>
                  <th>Created At</th>
                  <th>No. of Quotations</th>
                  <!-- <th>Brand</th>
                  <th>Model</th>
                  <th>F/W Type</th>
                  <th>Condition</th>
                  <th>Year</th>
                  <th>Dealer Quotation</th>
                  <th>Profit</th> -->
                 
                  <th>Updated At</th>
                  <th>View Lead</th>
                </tr>
              </thead>
              <tbody *ngFor="let abc of dealerQuotaionDetails; let i = index">
                <tr>
                  <td>{{ currentPageLimit * (currentPage - 1) + (i + 1) }}</td>
                  <!-- <td>{{ abc?.productId }}</td> -->
                  <td>{{ abc?.leadStatus}}</td>
                  <td>{{ abc?.createdAt | date:'short' }}</td>
                  <td>{{ abc?.quotations?.length }}</td>
                  <!-- <td>{{ abc?.productId?.location }}</td>
                  <td>{{ abc?.productId?.brandName }}</td>
                  <td>{{ abc?.productId?.modelName }}</td>
                  <td>{{ abc?.productId?.vehicleType }}</td>
                  <td>{{ abc?.productId?.condition }}</td>
                  <td>{{ abc?.productId?.manufactureYear }}</td>
                  
  
                
  
                  <td>
                    <div class="field-wrapper">
                      <span>{{ abc?.dealerAmount }}</span>
                    </div>
                  </td>
                  <td>
                    <div class="field-wrapper">
                      <span>{{ abc?.ourProfit }}</span>
                    </div>
                  </td> -->
                  
                  <td>{{ abc?.updatedAt | date:'short' }}</td>
                  <td>
                    <div class="actions d-flex justify-content-between">
                      <a data-toggle="tooltip" data-placement="top" title=""
                          data-original-title="View" [routerLink]="['/edit-lead',abc?.productId]">
                          <i class="icon-eye1 text-success"></i>
                      </a>
                  </div>
                  </td>
                </tr>
              </tbody>
            </table>
  
            <div class="d-flex justify-content-between mt-3 mb-3">
              <div
                class="dataTables_info"
                id="copy-print-csv_info"
                role="status"
                aria-live="polite"
              >
                Showing 6 to 10 of 10 entries
              </div>
  
              <!-- <pagination [paginationList]="pagination" [selectedPageLimit]="currentPageLimit" [currentPage]="currentPage" (onPageChange)="getPage($event)" [lastPage]="lastpage">
                        </pagination> -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Row end -->
</ng-container>
<ng-template #noQuotation>
<h3 class="d-flex justify-content-center">No quotation given yet by this dealer.</h3>
</ng-template>
